var ce=Object.defineProperty,de=Object.defineProperties;var ue=Object.getOwnPropertyDescriptors;var oe=Object.getOwnPropertySymbols;var pe=Object.prototype.hasOwnProperty,Fe=Object.prototype.propertyIsEnumerable;var X=(e,t,n)=>t in e?ce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_=(e,t)=>{for(var n in t||(t={}))pe.call(t,n)&&X(e,n,t[n]);if(oe)for(var n of oe(t))Fe.call(t,n)&&X(e,n,t[n]);return e},I=(e,t)=>de(e,ue(t));var H=(e,t,n)=>(X(e,typeof t!="symbol"?t+"":t,n),n);import{o as u,c as F,a as c,F as U,r as K,n as G,t as E,b,d as m,m as W,e as P,f as fe,g as S,p as q,h as Q,u as ve,i as he,j as me,k as T,l as L,q as _e,T as Ee,E as ye,s as ge,v as Ce,w as Ae}from"./vendor.7fb8e4c6.js";const Be=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}};Be();var h;(function(e){e.title="title",e.roleSelect="roleSelect",e.main="main",e.lose="lose",e.clearance="clearance"})(h||(h={}));var v;(function(e){e.found="found",e.visited="visited",e.mist="mist"})(v||(v={}));const De={locationUnit:32,regionGap:8,mistRegionColor:"#666",foundRegionColor:"#9d2"};function se(e,t=!0,n=!0){if(e&&e.length>0){var o=t?18:15,s=n?13:9,r=ae(e)%o;t&&r>15&&(s=9);var i=ae(e)%s;return we[i][r]}else console.log("Error: String not valid")}function ae(e){for(var t=5381,n=0;n<e.length;n++){var o=e.charCodeAt(n);t=(t<<5)+t+o}return Math.abs(t)}const we=[["#FFEBEE","#FCE4EC","#F3E5F5","#EDE7F6","#E8EAF6","#E3F2FD","#E1F5FE","#E0F7FA","#E0F2F1","#E8F5E9","#F1F8E9","#F9FBE7","#FFFDE7","#FFF8E1","#FFF3E0","#FBE9E7","#EFEBE9","#FAFAFA","#ECEFF1"],["#FFCDD2","#F8BBD0","#E1BEE7","#D1C4E9","#C5CAE9","#BBDEFB","#B3E5FC","#B2EBF2","#B2DFDB","#C8E6C9","#DCEDC8","#F0F4C3","#FFF9C4","#FFECB3","#FFE0B2","#FFCCBC","#D7CCC8","#F5F5F5","#CFD8DC"],["#EF9A9A","#F48FB1","#CE93D8","#B39DDB","#9FA8DA","#90CAF9","#81D4FA","#80DEEA","#80CBC4","#A5D6A7","#C5E1A5","#E6EE9C","#FFF59D","#FFE082","#FFCC80","#FFAB91","#BCAAA4","#EEEEEE","#B0BEC5"],["#E57373","#F06292","#BA68C8","#9575CD","#7986CB","#64B5F6","#4FC3F7","#4DD0E1","#4DB6AC","#81C784","#AED581","#DCE775","#FFF176","#FFD54F","#FFB74D","#FF8A65","#A1887F","#E0E0E0","#90A4AE"],["#EF5350","#EC407A","#AB47BC","#7E57C2","#5C6BC0","#42A5F5","#29B6F6","#26C6DA","#26A69A","#66BB6A","#9CCC65","#D4E157","#FFEE58","#FFCA28","#FFA726","#FF7043","#8D6E63","#BDBDBD","#78909C"],["#F44336","#E91E63","#9C27B0","#673AB7","#3F51B5","#2196F3","#03A9F4","#00BCD4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548","#9E9E9E","#607D8B"],["#E53935","#D81B60","#8E24AA","#5E35B1","#3949AB","#1E88E5","#039BE5","#00ACC1","#00897B","#43A047","#7CB342","#C0CA33","#FDD835","#FFB300","#FB8C00","#F4511E","#6D4C41","#757575","#546E7A"],["#D32F2F","#C2185B","#7B1FA2","#512DA8","#303F9F","#1976D2","#0288D1","#0097A7","#00796B","#388E3C","#689F38","#AFB42B","#FBC02D","#FFA000","#F57C00","#E64A19","#5D4037","#616161","#455A64"],["#C62828","#AD1457","#6A1B9A","#4527A0","#283593","#1565C0","#0277BD","#00838F","#00695C","#2E7D32","#558B2F","#9E9D24","#F9A825","#FF8F00","#EF6C00","#D84315","#4E342E","#424242","#37474F"],["#B71C1C","#880E4F","#4A148C","#311B92","#1A237E","#0D47A1","#01579B","#006064","#004D40","#1B5E20","#33691E","#827717","#F57F17","#FF6F00","#E65100","#BF360C","#3E2723","#212121","#263238"],["#FF8A80","#FF80AB","#EA80FC","#B388FF","#8C9EFF","#82B1FF","#80D8FF","#84FFFF","#A7FFEB","#B9F6CA","#CCFF90","#F4FF81","#FFFF8D","#FFE57F","#FFD180","#FF9E80"],["#FF5252","#FF4081","#E040FB","#7C4DFF","#536DFE","#448AFF","#40C4FF","#18FFFF","#64FFDA","#69F0AE","#B2FF59","#EEFF41","#FFFF00","#FFD740","#FFAB40","#FF6E40"],["#FF1744","#F50057","#D500F9","#651FFF","#3D5AFE","#2979FF","#00B0FF","#00E5FF","#1DE9B6","#00E676","#76FF03","#C6FF00","#FFEA00","#FFC400","#FF9100","#FF3D00"],["#D50000","#C51162","#AA00FF","#6200EA","#304FFE","#2962FF","#0091EA","#00B8D4","#00BFA5","#00C853","#64DD17","#AEEA00","#FFD600","#FFAB00","#FF6D00","#DD2C00"]],be=["onPointerdown"],$e={key:0,class:"monster"},ke={class:"name"},Se={class:"hp"},xe={key:1,class:"value"},Re={class:"name"};function Oe(e,t,n,o,s,r){return u(),F("div",{class:"dungeon-container",onPointerdown:t[1]||(t[1]=(...i)=>e.pointerdown&&e.pointerdown(...i)),onPointerup:t[2]||(t[2]=(...i)=>e.pointerup&&e.pointerup(...i)),onPointermove:t[3]||(t[3]=(...i)=>e.pointermove&&e.pointermove(...i))},[c("div",{class:"dungeon",style:G({top:e.offsetY+"px",left:e.offsetX+"px"})},[(u(!0),F(U,null,K(e.reginList,i=>(u(),F("div",{class:"region",style:G(e.makeRegionStyle(i)),onPointerdown:l=>e.regionPointerDown(i.id),onPointerup:t[0]||(t[0]=(...l)=>e.regionPointerUp&&e.regionPointerUp(...l))},[i.type==="monster"&&i.status!=="mist"?(u(),F("div",$e,[c("div",ke,E(i.name),1),c("div",Se,"("+E(i.hp[0])+"/"+E(i.hp[1])+")",1)])):b("",!0),i.type==="value"&&i.status!=="mist"?(u(),F("div",xe,[c("div",Re,E(i.name),1)])):b("",!0)],44,be))),256))],4)],32)}var y=(e,t)=>{const n=e.__vccOpts||e;for(const[o,s]of t)n[o]=s;return n};const{locationUnit:j,foundRegionColor:Ie,mistRegionColor:Pe,regionGap:ie}=De,Te=m({data(){return{downX:-1,downY:-1,nowOffsetX:0,nowOffsetY:0,timeoutHandler:null,intervalHandler:null}},computed:W({offsetX:e=>e.ui.offset[0],offsetY:e=>e.ui.offset[1],reginList:e=>{var t;return(t=e.dungeon)==null?void 0:t.regionIds.map(n=>{var o;return(o=e.dungeon)==null?void 0:o.regions[n]})}}),unmounted(){this.regionPointerUp()},methods:I(_({},P(["updateOffset","visitRegion"])),{makeRegionStyle(e){let t={};return e.status===v.mist&&(t.backgroundColor=Pe),(e.status===v.found||e.status===v.visited)&&(Object.keys(e).indexOf("name")!==-1?(t.color=se(e.name+"-font-color",!1,!1),t.backgroundColor=se(e.name,!1)):t.backgroundColor=Ie),e.status===v.visited&&(t.opacity=.6),_({width:e.width*j-ie+"px",height:e.height*j-ie+"px",left:e.x*j+"px",top:e.y*j+"px"},t)},pointerdown(e){this.downX=e.x,this.downY=e.y,this.nowOffsetX=this.offsetX,this.nowOffsetY=this.offsetY},pointermove(e){if(this.downX!==-1&&this.downY!==-1){let t=e.x-this.downX+this.nowOffsetX,n=e.y-this.downY+this.nowOffsetY;this.updateOffset({offset:[t,n]})}},pointerup(){this.downX=-1,this.downY=-1},regionPointerDown(e){this.visitRegion({id:e}),this.timeoutHandler=setTimeout(()=>{this.intervalHandler=setInterval(()=>{this.visitRegion({id:e})},100)},200)},regionPointerUp(){this.timeoutHandler&&clearTimeout(this.timeoutHandler),this.intervalHandler&&clearInterval(this.intervalHandler)}})});var Le=y(Te,[["render",Oe],["__scopeId","data-v-1d8c5018"]]);function je(e,t,n,o,s,r){return u(),F("div",{class:"icon",style:G(e.style)},null,4)}const Me=m({props:["type"],computed:{style(){return{backgroundImage:`url(icons/${this.type}.png)`,width:"16px",height:"16px",backgroundSize:"100% 100%"}}}});var Ve=y(Me,[["render",je]]);const Ye=e=>(q("data-v-43902a44"),e=e(),Q(),e),Ne={class:"player-panel"},Xe={class:"player-header"},He={class:"avatar"},Ue={class:"values-panel"},Ke=["title"],Ge={class:"icon"},We={class:"value"},qe=["title"],Qe={class:"icon"},Je={class:"value"},Ze=Ye(()=>c("div",{class:"player-props"},null,-1));function ze(e,t,n,o,s,r){const i=fe("icon");return u(),F("div",Ne,[c("div",Xe,[c("div",He,E(e.avatar),1),c("div",Ue,[(u(!0),F(U,null,K(e.doubleValues,l=>(u(),F("div",{class:"values",title:l.name},[c("span",Ge,[S(i,{type:l.icon},null,8,["type"])]),c("span",We,E(l.value[0])+"/"+E(l.value[1]),1)],8,Ke))),256)),(u(!0),F(U,null,K(e.values,l=>(u(),F("div",{class:"values",title:l.name},[c("span",Qe,[S(i,{type:l.icon},null,8,["type"])]),c("span",Je,E(l.value),1)],8,qe))),256))])]),Ze])}const et=m({components:{icon:Ve},computed:W({doubleValues:e=>Object.getOwnPropertySymbols(e.player.doubleValues).map(t=>e.player.doubleValues[t]).sort((t,n)=>t.order-n.order),values:e=>Object.getOwnPropertySymbols(e.player.values).map(t=>e.player.values[t]).sort((t,n)=>t.order-n.order),avatar:e=>e.player.avatar})});var tt=y(et,[["render",ze],["__scopeId","data-v-43902a44"]]);const nt=e=>(q("data-v-a5453b5c"),e=e(),Q(),e),ot={class:"ui"},st=nt(()=>c("div",{class:"right"},null,-1)),at={class:"bottom"},it=m({setup(e){return(t,n)=>(u(),F("div",ot,[st,c("div",at,[S(tt)])]))}});var rt=y(it,[["__scopeId","data-v-a5453b5c"]]);const lt={class:"main"},ct=m({setup(e){const t=ve();return he(()=>{t.commit("generateDungeon")}),(n,o)=>(u(),F("div",lt,[S(Le),S(rt)]))}}),dt={class:"title"},ut=c("div",{class:"brand"},null,-1);function pt(e,t,n,o,s,r){return u(),F("div",dt,[ut,c("div",{class:"start-btn",onClick:t[0]||(t[0]=i=>e.startGame())},"\u620F\u4F5C")])}const Ft=m({methods:_({},P(["startGame"]))});var ft=y(Ft,[["render",pt]]);const vt=e=>(q("data-v-d4dedccc"),e=e(),Q(),e),ht={class:"container"},mt=vt(()=>c("p",null,"\u62E9\u5176\u4E4B\u4E00",-1)),_t={class:"row"},Et=me('<span class="disable" data-v-d4dedccc>\u5175</span><span class="disable" data-v-d4dedccc>\u6597</span><span class="disable" data-v-d4dedccc>\u8005</span><span class="disable" data-v-d4dedccc>\u7686</span><span class="disable" data-v-d4dedccc>\u9635</span><span class="disable" data-v-d4dedccc>\u5217</span><span class="disable" data-v-d4dedccc>\u524D</span><span class="disable" data-v-d4dedccc>\u884C</span>',8);function yt(e,t,n,o,s,r){return u(),F("div",ht,[mt,c("div",_t,[c("span",{onClick:t[0]||(t[0]=i=>e.selectHeroAndEnterDungeon(0))},"\u4E34"),Et])])}const gt=m({methods:_({},P(["selectHeroAndEnterDungeon"]))});var Ct=y(gt,[["render",yt],["__scopeId","data-v-d4dedccc"]]);const At={class:"title"},Bt=c("div",{class:"brand"},null,-1),Dt=c("div",{class:"start-btn"},"Game Over",-1);function wt(e,t,n,o,s,r){return u(),F("div",At,[Bt,Dt,c("div",{class:"restart",onClick:t[0]||(t[0]=(...i)=>e.toTitle&&e.toTitle(...i))},"\u91CD\u65B0\u5F00\u59CB")])}const bt=m({methods:_({},P(["toTitle"]))});var $t=y(bt,[["render",wt]]);const kt={class:"container"},St=m({computed:W(["stage"])}),xt=m(I(_({},St),{setup(e){return(t,n)=>(u(),F("div",kt,[t.stage===T(h).main?(u(),L(ct,{key:0})):b("",!0),t.stage===T(h).title?(u(),L(ft,{key:1})):b("",!0),t.stage===T(h).roleSelect?(u(),L(Ct,{key:2})):b("",!0),t.stage===T(h).lose?(u(),L($t,{key:3})):b("",!0)]))}}));var Rt=y(xt,[["__scopeId","data-v-7ec1e746"]]);function g(e,t){return Math.round(Math.random()*(t-e)+e)}function Ot(e=.5){return Math.random()>e}const J=[{weight:1,factory:()=>({name:"\u9E21",hp:[10,10],attack:20,defense:5})},{weight:1,factory:()=>({name:"\u72AC",hp:[16,16],attack:12,defense:2})}];J.sort((e,t)=>e.weight-t.weight);const C={attack:Symbol("attack"),defense:Symbol("defense")},A={hp:Symbol("hp"),mp:Symbol("mp")},It=[{avatar:"\u4E34",doubleValues:{[A.hp]:{key:A.hp,name:"HP",value:[100,100],order:1,icon:"ui_hp"},[A.mp]:{key:A.mp,name:"MP",value:[60,60],order:2,icon:"ui_mp"}},values:{[C.attack]:{key:C.attack,name:"\u653B\u51FB\u529B",value:7,order:3,icon:"ui_attack"},[C.defense]:{key:C.defense,name:"\u9632\u5FA1\u529B",value:6,order:4,icon:"ui_defense"}}}],Pt=J.reduce((e,t)=>e+t.weight,0);function Tt(){const e=g(1,Pt);let t=0;for(const n of J.reverse())if(t-=n.weight,t<e)return n;throw new Error}function Lt(e){const t=e.reduce((o,[s,r])=>o+r,0),n=e.sort(([o,s],[r,i])=>i-s);return()=>{const o=g(0,t);let s=0;for(const[r,i]of n)if(s+=i,s>=o)return r;throw new Error}}const jt=[[e=>{e.type="monster";const t=e,{attack:n,defense:o,hp:s,name:r}=Tt().factory();t.attack=n,t.defense=o,t.hp=s,t.name=r},3],[e=>{e.type="value";const t=e;t.name="\u6CC9",t.value=10,t.valueKey=A.hp},1],[e=>{e.type="value";const t=e;t.name="\u795D",t.value=3,t.valueKey=C.attack},1],[e=>{e.type="value";const t=e;t.name="\u7532",t.value=4,t.valueKey=C.defense},1]],Mt=Lt(jt);function Vt(e){e.isRoom&&e.type!=="started"&&Mt()(e)}function Yt(e){let t=1/0,n=1/0,o=-1/0,s=-1/0;for(const i of e)i.x>o&&(o=i.x),i.x<t&&(t=i.x),i.y>s&&(s=i.y),i.y<n&&(n=i.y);const r=o-t+1>=2&&s-n+1>=2;return{x:t,y:n,width:o-t+1,height:s-n+1,fits:new Set(e.map(i=>i.id)),isRoom:r,adjacent:new Set,id:e[0].id,status:v.mist,type:"blank"}}function Nt(e=32){const t=[],n=a=>t[Math.floor(a/e)][a%e],o=new Set,s=[],r=({x:a,y:d},p,f)=>{var w;return((w=t[a+p])!=null?w:[])[d+f]},i=(a,d)=>([p,f])=>r({x:a,y:d},p,f),l=a=>({x:d,y:p})=>a.map(i(d,p)),Y=[[[0,1]],[[0,-1]],[[1,0]],[[-1,0]],[[0,1],[0,2]],[[0,-1],[0,-2]],[[1,0],[2,0]],[[-1,0],[-2,0]],[[0,1],[0,2],[0,3]],[[0,-1],[0,-2],[0,-3]],[[1,0],[2,0],[3,0]],[[-1,0],[-2,0],[-3,0]]].map(l),x=[l([[1,0],[0,1],[1,1]]),l([[-1,0],[-1,1],[0,1]]),l([[-1,0],[-1,-1],[0,-1]]),l([[1,0],[1,-1],[0,-1]]),l([[1,0],[2,0],[2,-1],[1,-1],[0,-1]]),l([[-1,0],[-2,0],[-2,-1],[-1,-1],[0,-1]]),l([[0,1],[1,1],[2,1],[2,0],[1,0]]),l([[-1,0],[-2,0],[-2,1],[-1,1],[0,1]]),l([[1,0],[2,0],[2,-1],[1,-1],[0,-1],[0,-2],[1,-2],[2,-2]]),l([[-1,0],[-2,0],[-2,-1],[-1,-1],[0,-1],[0,-2],[-1,-2],[-2,-2],[]]),l([[0,1],[1,1],[2,1],[2,0],[1,0],[0,2],[1,2],[2,2]]),l([[-1,0],[-2,0],[-2,1],[-1,1],[0,1],[0,2],[-1,2],[-2,2]])];let R=0;for(let a=0;a<e;a++){t[a]=[];for(let d=0;d<e;d++)t[a][d]={x:a,y:d,id:R++}}const B=t.flat();for(let a=0;a<4*e;a++){const d=g(0,B.length-1),p=B[d];if(o.has(p))continue;o.add(p);const f=x.filter(D=>D(p).every(k=>k!==void 0&&!o.has(k)));if(f.length===0)continue;const $=f[g(0,f.length-1)](p);$.forEach(D=>o.add(D)),s.push([p].concat($))}for(let a=0;a<e*e;a++){const d=g(0,B.length-1),p=B[d];if(o.has(p))continue;o.add(p);const f=Y.filter(D=>D(p).every(k=>k!==void 0&&!o.has(k)));if(f.length===0)continue;const $=f[g(0,f.length-1)](p);$.forEach(D=>o.add(D)),s.push([p].concat($))}const z=B.filter(a=>!o.has(a)).map(a=>[Math.abs(a.x-e/2)+Math.abs(a.y-e/2),a]).sort(([a],[d])=>a-d)[0][1],ee=I(_({},z),{width:1,height:1,fits:new Set([z.id]),status:v.found,adjacent:new Set,isRoom:!0,type:"started"}),te={},O=s.map(Yt).filter(a=>a.x!==0&&a.y!==0&&a.x+a.width!==e&&a.y+a.height!==e).filter(a=>!(Ot()&&a.fits.size<=4&&(a.width===1||a.height===1))).concat([ee]);O.forEach(a=>te[a.id]=a);for(const a of O)for(const d of a.fits.values()){const p=[[0,1],[0,-1],[1,0],[-1,0]].map(i(n(d).x,n(d).y)).filter(Boolean);O.filter(f=>p.some(w=>f.fits.has(w.id)&&f!==a)).forEach(f=>a.adjacent.add(f.id))}const N=new Set;function ne(a){N.has(a)||(N.add(a),a.adjacent.forEach(d=>ne(te[d])))}return ne(ee),O.filter(a=>N.has(a))}function Xt(e=32){let t=[];for(;t.filter(n=>n.isRoom).length<e;)t=Nt(e);return t}function Ht(e){const t=[],n={};Xt(32).forEach(o=>{t.push(o.id),n[o.id]=o,Vt(o)}),e.dungeon={regionIds:t,regions:n}}function Ut(e,t){e.ui.offset=t.offset}const re={monster:{attacked:new Audio("/monster/attacked.mp3")}};class Kt{constructor(){H(this,"injuryNumbers",new Set);H(this,"cursor",[0,0])}addInjuryNumber(t){this.injuryNumbers.add(t),new Ee(t).to({opacity:.8,x:t.x+g(-30,30),y:t.y+g(-30,30)},400).easing(ye.Quadratic.InOut).onComplete(()=>{this.injuryNumbers.delete(t)}).start()}addInjuryNumberAtCursor(t){const[n,o]=this.cursor;this.addInjuryNumber({opacity:1,x:n,y:o,value:t})}}const Z=new Kt;function Gt(){const e=document.createElement("canvas");e.width=window.innerWidth,e.height=window.innerHeight,e.style.cssText=`
    top:0;
    left:0;
    position: fixed;
    pointer-events: none;
  `,document.body.appendChild(e);const t=s=>{Z.cursor=[s.clientX,s.clientY]};window.addEventListener("pointerdown",t,{capture:!0}),window.addEventListener("pointermove",t,{capture:!0});const n=e.getContext("2d");function o(){_e(),n.clearRect(0,0,e.width,e.height),Z.injuryNumbers.forEach(s=>{const{value:r,opacity:i,x:l,y:Y}=s,x=r.toString(),R=18;n.font=`${R}px Arial`,n.fillStyle=`rgba(255,0,0,${i})`;const{width:B}=n.measureText(x);n.fillText(x,l-B/2,Y+R/2)}),requestAnimationFrame(o)}o()}const M=(e,t)=>{t.status===v.found&&(t.status=v.visited,t.adjacent.forEach(n=>{var s;const o=(s=e.dungeon)==null?void 0:s.regions[n];o&&o.status===v.mist&&(o.status=v.found)}))},Wt=(e,t)=>{if(!(t.status!==v.found||t.type!=="monster")&&e.player){e.player.values;const n=e.player.values[C.attack].value-t.defense,o=t.attack-e.player.values[C.defense].value;Z.addInjuryNumberAtCursor(Math.max(0,n)),t.hp[0]=Math.max(0,t.hp[0]-Math.max(0,n)),e.player.doubleValues[A.hp].value[0]=Math.max(0,e.player.doubleValues[A.hp].value[0]-Math.max(0,o)),re.monster.attacked.currentTime=0,re.monster.attacked.play(),t.hp[0]===0&&M(e,t)}},qt=(e,t)=>{var o,s;const n=t;Object.getOwnPropertySymbols((o=e.player)==null?void 0:o.doubleValues).indexOf(n.valueKey)!==-1&&(e.player.doubleValues[n.valueKey].value[0]=Math.min(e.player.doubleValues[n.valueKey].value[1],e.player.doubleValues[n.valueKey].value[0]+n.value)),Object.getOwnPropertySymbols((s=e.player)==null?void 0:s.values).indexOf(n.valueKey)!==-1&&(e.player.values[n.valueKey].value=e.player.values[n.valueKey].value+n.value),M(e,t)},Qt={started:M,blank:M,monster:Wt,value:qt};function Jt(e,{id:t}){var o;const n=(o=e.dungeon)==null?void 0:o.regions[t];if(n&&n.status===v.found){Qt[n.type](e,n);return}}function Zt(e){e.stage=h.roleSelect}function zt(e){e.stage=h.title}function le(e){e.stage=h.main}function en(e){e.stage=h.lose}function tn(e,t){e.player=ge(It[t]),le(e)}var nn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",generateDungeon:Ht,updateOffset:Ut,visitRegion:Jt,startGame:Zt,enterDungeon:le,toLose:en,toTitle:zt,selectHeroAndEnterDungeon:tn});const on={stage:h.title,ui:{offset:[0,0]}},V=Ce({state:on,mutations:nn});Gt();V.watch(e=>{var t,n;return(n=(t=e.player)==null?void 0:t.doubleValues[A.hp])==null?void 0:n.value[0]},e=>{e!==void 0&&e===0&&V.commit("toLose")});window.game=V;Ae(Rt).use(V).mount("#game");
